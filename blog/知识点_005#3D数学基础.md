## 引言
数学在游戏开发中特别是渲染方面一直是非常重要的一个基础。

## 一、坐标系统

### 1. 左手系右手系
- OpenGL更多的是基于左手系
- DX是基于右手系
- 线性代数更多是基于右手系

## 二、多坐标系

### 1. 3D图形学中常用坐标系
- 世界坐标系：通常是游戏场景的绝对坐标系
- 物体坐标系：以物体锚点为原点的坐标系统
- 摄像机坐标系/照相机坐标系
- 惯性坐标系：惯性坐标系是于物体同一位置，但轴向平行于世界坐标的坐标系
惯性坐标系的存在是作为中介，简化世界坐标变换到物体坐标的过程（仅平移即可完成世界坐标与惯性坐标的转换，仅旋转即可完成惯性坐标与物体坐标的转换）

### 2. 嵌套坐标系
- 3D游戏中嵌套坐标系在数据结构中形成以世界坐标为根，子层级坐标系为枝叶的嵌套式坐标系树。嵌套式坐标系树能在虚拟世界的生命周期内动态更新，以表现物体的层级转换，子物体从父物体上脱落成武世界坐标系中的物体，亦或是世界坐标系中的莫物体被另一物体捕获，成为该物体的子对象

### 3. 坐标系转换

- 通过惯性系为桥梁，完成世界坐标系和物体坐标系的相互转换。将物体坐标通过变换到和世界坐标重合，其所需的步骤与世界坐标变换到物体的步骤正好在顺序和数值上均相反

## 三、向量

### 1. 向量的和

### 2. 向量的点积

- 叉积又称内积
- 点积的几何意义是可以用来计算两个向量之间的夹角，以及在b向量在a向量方向上的投影
- 点积的结果是一个标量，公式为a*b=a1*b1+a2*b2+a3*b3...+an*bn，a*b=|a|*|b|cosθ

### 3. 向量的叉积

- 叉积又称外积
- 叉积的方向取决于坐标系，即左手系中用左手判定，右手系中用右手判定
- 外积n是与a和b都垂直的向量。其方向由右手/左手定则决定，模长等于以两个向量为边的平行四边形的面积。
公式为 axb=(|a|*|b|*sinθ)*n
- a(x,y,z) x b(l,m,n) = c(yn-zm, zl-xn, xm-yl)

### 4. 向量的模

### 5. 平面的法向量

## 二、矩阵和行列式

### 1. 矩阵

- 在元素组成上，矩阵是一张m行xn列的数表，用以储存一定的信息

### 2. 行列式

- 行列式在元素组成上也是一个数表，但不同的是行列式依照不同行不同列的元素相乘以及所取行列对应的正负值所组成的各个“项”的和对应着一个确切的数值。可以说行列式就是那张数表按一定规律运算所得到的一个数值

### 3. 方阵

- 若一个矩阵满足 m=n(行列数相等)这种矩阵称方阵

### 4. 向量作为矩阵

- 行为1的矩阵称行向量，列为1的矩阵称列向量

- 将向量表示为矩阵的形式，以便参与矩阵运算。将矩阵分割为行向量，或列向量，便于理解矩阵。

- 行向量与列向量在几何意义上相同，但在进行矩阵运算时会有所区别，主要体现在矩阵乘法时的左乘或右乘所得的结果会不相同

### 5. 矩阵的转置

- 转置的含义是将矩阵的第i行第j列的元素变换为第j行第i列的元素，m×n的矩阵转置后变为n×m的矩阵

- 转置像是将矩阵沿对角线翻转了一样，行向量和列向量会在转置后发生转化

- 矩阵乘积的转置等于矩阵转置的乘积

- 矩阵转置求逆的结果等于矩阵求逆之后转置的结果

### 6. 矩阵乘法

- 矩阵A左乘矩阵B得到矩阵C矩阵的第i行第j列的元素是矩阵A的第i行的行向量与矩阵B的第j列的列向量点积的结果。
即前面(左矩阵)的行点乘右矩阵的列。

- A(m×n)×B(n×s)=C(m×s)

- 若矩阵乘方阵（不论左乘右乘，只要有意义）则得到与原矩阵行列数相同的矩阵

- 矩阵乘单位矩阵（不论左乘右乘，只要有意义）则得到原矩阵

- 矩阵乘法满足结合率

- 一般以行向量左乘n阶方阵得到变换后的行向量，或以列向量右乘n阶方阵得到变换后的列向量

- DX11中采用行向量左乘矩阵完成变换，OpenGL中则使用列向量右乘矩阵完成变换

## 三. 矩阵和线性变换

### 1. 线性变换

- 线性变换是对空间（针对坐标轴的线性变换）或空间中的对象（立体图形，面，直线，点的变换）进行拉伸，旋转，投影，线性变换不会改变原点的位置，直线在进行线性变换后仍是直线，平行线在进行变换后仍平行（即不会弯曲空间）

### 2. 矩阵与线性变换

- 矩阵就是线性变换的一种表示

- 对矩阵求逆，即得到原矩阵所对应的线性变换的逆变换

- 可以将不同的变换矩阵相乘，结果矩阵所表示的线性变换等于按相乘顺序的各线性变换的组合（注意：矩阵乘法不具有交换律，因此相乘变换矩阵进行变换组合，组合到一起的线性变换是按相乘顺序组合的）

### 3. 几种常用的变换矩阵的简述

- 世界矩阵W，对应物体的输入坐标和物体所在的那个世界坐标系，用于保存物体的变换信息，物体的输入坐标乘世界矩阵即得到物体在世界中的位置

- 观察矩阵V，对应摄像机的位置和摄像机所在的那个世界坐标系，用于得到世界坐标系中的物体在摄像机坐标系中的位置

- 透视投影矩阵P，对应摄像机坐标系和一组摄像机广角度数，最近裁切平面，最远裁切平面等的摄像机数据，将摄像机坐标系中的物体进行透视投影到观察平面上

- 缩放/拉伸矩阵S，沿x，y，z轴的方向缩放物体或拉伸坐标系

- 旋转矩阵R，沿一个方向向量旋转点/向量/坐标系

- 平移矩阵T，沿x，y，z轴的方向平移物体或坐标系

### 4. 旋转矩阵

- 二维旋转矩阵，逆时针旋转θ:

            | cosθ sinθ|
            |-sinθ cosθ|


## 开坑待填

## 参考文献



>未完待续